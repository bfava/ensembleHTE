% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{combine_ensembles}
\alias{combine_ensembles}
\title{Combine Multiple Ensemble Objects}
\usage{
combine_ensembles(...)
}
\arguments{
\item{...}{Two or more ensemble fit objects of the same type
(\code{ensemble_hte_fit} or \code{ensemble_pred_fit}).}
}
\value{
A combined ensemble fit object of the same class as the inputs,
  with the predictions/ITEs and splits concatenated across all inputs.
  The \code{M} value is updated to reflect the total number of repetitions.
}
\description{
Combines multiple ensemble fit objects (either \code{ensemble_hte_fit} or
\code{ensemble_pred_fit}) that were run on the same data with the same
specification. This allows users to run multiple estimation sessions
(e.g., with different numbers of repetitions) and combine them to increase
the total number of repetitions M.

This is particularly useful when running computations on servers or clusters,
where you can distribute the work across multiple sessions or nodes. For example,
you can run M=50 repetitions on 5 different servers with M=10 each, save the
results, and then combine them into a single object with M=50 total repetitions.

The function validates that all objects have the same:
\itemize{
  \item Class (all HTE or all pred)
  \item Sample size (n)
  \item Outcome variable name
  \item Covariate names (must match exactly)
  \item Number of folds (K)
  \item Algorithms
  \item Ensemble folds
  \item Task type
  \item Metalearner (for HTE objects)
  \item Treatment variable (for HTE objects)
}
}
\examples{
\dontrun{
# Run ensemble_hte in two separate sessions (e.g., on different servers)
# Session 1:
fit1 <- ensemble_hte(Y ~ X1 + X2, treatment = D, data = mydata, M = 5)
saveRDS(fit1, "fit_session1.rds")

# Session 2:
fit2 <- ensemble_hte(Y ~ X1 + X2, treatment = D, data = mydata, M = 5)
saveRDS(fit2, "fit_session2.rds")

# Later, combine the results:
fit1 <- readRDS("fit_session1.rds")
fit2 <- readRDS("fit_session2.rds")
fit_combined <- combine_ensembles(fit1, fit2)
print(fit_combined)  # Shows M = 10

# Works the same for ensemble_pred
pred1 <- ensemble_pred(Y ~ X1 + X2, data = mydata, M = 3)
pred2 <- ensemble_pred(Y ~ X1 + X2, data = mydata, M = 3)
pred_combined <- combine_ensembles(pred1, pred2)
}

}
